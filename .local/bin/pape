#!/bin/bash


if [ $# -eq 0 ]
then
	files=(~/Images/Wallpapers/papes/*)
	ar="${files[RANDOM % ${#files[@]}]}"
else
	if [ ${1:0:1} == "/" ]
	then
		ar="$1"
	else
		ar="$(pwd)/$1"
	fi

	if [ -f "$ar" ]
	then
		echo "continuing"
	else
		echo "file does not exist, exiting..."
		exit 0
	fi
fi

echo $ar


# MUST BE PYWAL<=3.2.1 (removed gtk support for whatever reason)
wal -s -i ${ar} -g
wal-steam -w -d
# -b \"#14161b\" 
#  ^ = to set backround manually

# source the colors.
. "${HOME}/.cache/wal/colors.sh"

# Color settings with pywal

# Set the border colors.
bspc config normal_border_color "$color0"
bspc config active_border_color "$color2"
bspc config focused_border_color "$color1"
bspc config presel_feedback_color "$color1"

killall dunst
dunst -conf ${HOME}/.config/dunstrc/dunstrc \
-lb "$color0" -lf "$color7" -lfr "$color1" \
-nb "$color0" -nf "$color7" -nfr "$color1" \
-cb "$color0" -cf "$color7" -cfr "$color1" &
sleep 0.5
notify-send "Bspwm Loaded" "uwu"
